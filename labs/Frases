
# =============== STORYTELLING ESTRATÃ‰GICO ===============
# (Para entrevistas, revisiones salariales, presentaciones ejecutivas)
# ==========================================================

mostrar_frameworks_estrategicos() {
    echo -e "${CYAN}================================================================${NC}"
    echo -e "${CYAN}                 ðŸŽ¯ FRAMEWORKS DE COMUNICACIÃ“N                  ${NC}"
    echo -e "${CYAN}          (Para vender tu trabajo a diferentes audiencias)      ${NC}"
    echo -e "${CYAN}================================================================${NC}"
    echo ""
    
    # Marco 1: FilosofÃ­a UNIX
    echo -e "${YELLOW}ðŸŽ¯ 1. MARCO FILOSÃ“FICO UNIX (Para CTO/TÃ©cnicos Senior):${NC}"
    echo "----------------------------------------------------------------"
    echo "\"ApliquÃ© principios de diseÃ±o UNIX atemporales para resolver este"
    echo "cuello de botella crÃ­tico. No fue solo sobre mover datos, sino sobre\""
    echo ""
    echo -e "${GREEN}â€¢ SeparaciÃ³n de responsabilidades:${NC} Aislamos el problema de storage"
    echo "  de la capa de aplicaciÃ³n"
    echo -e "${GREEN}â€¢ Herramientas pequeÃ±as que hacen una cosa bien:${NC} Composimos"
    echo "  lvcreate + mkfs.xfs + mount en una soluciÃ³n robusta"
    echo -e "${GREEN}â€¢ Todo es un archivo:${NC} Democratizamos el acceso a recursos"
    echo "  de almacenamiento como ciudadanos de primera clase"
    echo -e "${GREEN}â€¢ Transparencia y observabilidad:${NC} Convertimos arte negro"
    echo "  del performance tuning en ciencia observable"
    echo ""
    
    # Marco 2: Business Value
    echo -e "${YELLOW}ðŸŽ¯ 2. MARCO DE VALOR DE NEGOCIO (Para Ejecutivos):${NC}"
    echo "----------------------------------------------------------------"
    echo "\"TransformÃ© un riesgo operacional financiero en ventaja competitiva.\""
    echo ""
    echo -e "${GREEN}â€¢ Impacto Financiero:${NC}"
    echo "  - ANTES: Reportes trimestrales: 45 minutos"
    echo "  - DESPUÃ‰S: Reportes trimestrales: 5 minutos"
    echo "  - ROI: RecuperaciÃ³n de 40 minutos crÃ­ticos Ã— N reportes"
    echo ""
    echo -e "${GREEN}â€¢ ReducciÃ³n de Riesgo:${NC}"
    echo "  - MitigaciÃ³n de riesgo regulatorio (datos financieros)"
    echo "  - EliminaciÃ³n de single point of failure con striped"
    echo "  - Cumplimiento de SLA bajo presiÃ³n ejecutiva"
    echo ""
    echo -e "${GREEN}â€¢ Capacidades Habilitadas:${NC}"
    echo "  - Velocidad adaptativa para crecimiento futuro"
    echo "  - Predictibilidad en cierres trimestrales"
    echo "  - Confianza ejecutiva restaurada"
    echo ""
    
    # Marco 3: MetÃ¡foras Poderosas
    echo -e "${YELLOW}ðŸŽ¯ 3. METÃFORAS DE ALTO IMPACTO (Para No-TÃ©cnicos):${NC}"
    echo "----------------------------------------------------------------"
    echo -e "${GREEN}â€¢ Sistema Circulatorio:${NC}"
    echo "  \"RealicÃ© una cirugÃ­a de bypass en las arterias de datos del"
    echo "  servidor, creando autopistas de alta velocidad donde habÃ­a"
    echo "  caminos de tierra obstruidos.\""
    echo ""
    echo -e "${GREEN}â€¢ Director de Orquesta:${NC}"
    echo "  \"SincronicÃ© cada instrumento del sistema (striped), elegÃ­ la"
    echo "  partitura correcta (XFS), y establecÃ­ el tempo perfecto (noatime)"
    echo "  para crear armonÃ­a donde antes habÃ­a cacofonÃ­a.\""
    echo ""
    echo -e "${GREEN}â€¢ EcologÃ­a de Sistemas:${NC}"
    echo "  \"RestablecÃ­ el balance depredador-presa en el ecosistema del"
    echo "  servidor, permitiendo que PostgreSQL prospere en lugar de"
    echo "  ser cazado por I/O lento.\""
    echo ""
    
    # Marco 4: Niveles de ComunicaciÃ³n
    echo -e "${YELLOW}ðŸŽ¯ 4. RESPUESTAS POR NIVEL DE AUDIENCIA:${NC}"
    echo "----------------------------------------------------------------"
    echo -e "${GREEN}Para Entrevista Junior (tÃ©cnico):${NC}"
    echo "\"ImplementÃ© una soluciÃ³n LVM striped con XFS para optimizar I/O\""
    echo ""
    echo -e "${GREEN}Para Entrevista Pleno (operacional):${NC}"
    echo "\"OptimicÃ© la infraestructura de almacenamiento para soportar"
    echo "cargas crÃ­ticas de negocio bajo restricciones de tiempo severas\""
    echo ""
    echo -e "${GREEN}Para Entrevista Senior (estratÃ©gico):${NC}"
    echo "\"TransformÃ© un cuello de botella de infraestructura en un activo"
    echo "estratÃ©gico, alineando capacidades tÃ©cnicas con velocidad de"
    echo "negocio y estableciendo patrones para escalabilidad futura.\""
    echo ""
    
    # Marco 5: Elevator Pitches
    echo -e "${YELLOW}ðŸŽ¯ 5. ELEVATOR PITCHES (30 segundos):${NC}"
    echo "----------------------------------------------------------------"
    echo -e "${GREEN}Para CEO/CFO:${NC}"
    echo "\"ConvertÃ­ minutos perdidos en reportes financieros en capacidad"
    echo "estratÃ©gica. Donde antes habÃ­a riesgo, ahora hay velocidad\""
    echo ""
    echo -e "${GREEN}Para Head of Product:${NC}"
    echo "\"DesbloqueÃ© un constraint crÃ­tico que estaba limitando"
    echo "capacidades de producto y time-to-market\""
    echo ""
    echo -e "${GREEN}Para NegociaciÃ³n Salarial:${NC}"
    echo "\"Mi intervenciÃ³n representa la condensaciÃ³n de aÃ±os de"
    echo "experiencia en decisiones correctas bajo mÃ¡xima presiÃ³n\""
    echo ""
}

generar_reporte_ejecutivo() {
    local report_file="/root/reporte_ejecutivo_${ID}.md"
    
    cat > "${report_file}" <<-REPORT
# Reporte Ejecutivo: IntervenciÃ³n CrÃ­tica de Infraestructura
## Ticket ID: ${ID} | Departamento: ${DEPARTAMENTO}

### ðŸ“Š Resumen Ejecutivo
IntervenciÃ³n de infraestructura crÃ­tica completada exitosamente, transformando
un cuello de botella operacional en una ventaja competitiva.

### ðŸŽ¯ Contexto del Problema
- **Sistema afectado**: Base de datos PostgreSQL de ${DEPARTAMENTO}
- **Impacto de negocio**: Reportes financieros tardaban 45 minutos (vs. 5 esperados)
- **PresiÃ³n ejecutiva**: IntervenciÃ³n requerida en ventana de 90 minutos
- **Stakeholders**: CFO, Equipo de Finanzas, Directorio Ejecutivo

### ðŸ› ï¸ SoluciÃ³n Implementada
- **Arquitectura**: Volume Group (${VG_NAME}) con Logical Volume striped (${LV_NAME})
- **ConfiguraciÃ³n**: 2 discos en striped para mÃ¡ximo rendimiento
- **Filesystem**: XFS optimizado para bases de datos
- **Montaje**: Directorio crÃ­tico (/var/lib/pgsql/data) con optimizaciones

### ðŸ“ˆ MÃ©tricas de Resultado
- **Rendimiento I/O**: Mejora estimada 300-400% (striped distribution)
- **Tiempo de reportes**: ReducciÃ³n de 45 minutos a ~5 minutos
- **Disponibilidad**: 0 downtime durante la intervenciÃ³n
- **Capacidad**: ${LV_SIZE} disponibles para crecimiento inmediato

### ðŸ’° ROI y Valor de Negocio
1. **Productividad recuperada**: 40 minutos por reporte Ã— mÃºltiples reportes diarios
2. **Riesgo mitigado**: EliminaciÃ³n de bottleneck crÃ­tico durante cierre financiero
3. **Confianza ejecutiva**: DemostraciÃ³n de capacidad tÃ©cnica bajo presiÃ³n
4. **PatrÃ³n establecido**: SoluciÃ³n replicable para otros sistemas crÃ­ticos

### ðŸ”® Capacidades Futuras Habilitadas
- **Escalabilidad**: Arquitectura preparada para crecimiento
- **Monitoreo**: LÃ­nea base establecida para mÃ©tricas de performance
- **Resiliencia**: ReducciÃ³n de single points of failure
- **AutomatizaciÃ³n**: Procedimientos documentados para futuras intervenciones

### ðŸ† Valor Diferencial del Profesional
Esta intervenciÃ³n demuestra:
- **Pensamiento arquitectÃ³nico**: MÃ¡s allÃ¡ de parches rÃ¡pidos
- **GestiÃ³n de presiÃ³n**: EjecuciÃ³n impecable en ventana crÃ­tica
- **AlineaciÃ³n con negocio**: Soluciones tÃ©cnicas que impactan resultados
- **VisiÃ³n estratÃ©gica**: DiseÃ±o para hoy, preparaciÃ³n para maÃ±ana

### ðŸ“ž Contacto y Seguimiento
**Profesional responsable**: [Tu Nombre]  
**MetodologÃ­a aplicada**: Principios UNIX + Best Practices Enterprise  
**Disponibilidad para rÃ©plica**: SoluciÃ³n documentada y transferible

---
*"La excelencia tÃ©cnica no es un fin en sÃ­ mismo, sino el medio para 
desbloquear potencial humano y empresarial."*
REPORT
    
    echo -e "${GREEN}[+] Reporte ejecutivo generado: ${report_file}${NC}"
    echo -e "${YELLOW}ðŸ“ Ãšsalo en:${NC}"
    echo "  â€¢ Revisiones de desempeÃ±o"
    echo "  â€¢ Negociaciones salariales"
    echo "  â€¢ Entrevistas tÃ©cnicas"
    echo "  â€¢ Presentaciones a stakeholders"
    echo ""
}

mostrar_guion_entrevista() {
    echo -e "${CYAN}================================================================${NC}"
    echo -e "${CYAN}                 ðŸŽ¬ GUION PARA ENTREVISTA                       ${NC}"
    echo -e "${CYAN}================================================================${NC}"
    echo ""
    
    echo -e "${YELLOW}ðŸŽ¤ PREGUNTA TÃPICA:${NC}"
    echo "\"CuÃ©ntame de una vez que resolviste un problema tÃ©cnico bajo presiÃ³n\""
    echo ""
    
    echo -e "${GREEN}ðŸŽ­ TU RESPUESTA (guion paso a paso):${NC}"
    echo ""
    echo "1. ð„ð‹ ð†ð€ðð‚ð‡ðŽ (0-30 segundos):"
    echo "   \"Recientemente liderÃ© una intervenciÃ³n crÃ­tica donde transformÃ©"
    echo "   un problema de rendimiento que afectaba reportes financieros"
    echo "   trimestrales en una historia de Ã©xito operacional.\""
    echo ""
    
    echo "2. ð„ð‹ ðƒð„ð’ð€ð…ÃðŽ (contexto sin jerga):"
    echo "   \"El sistema era como un Ferrari con ruedas de bicicleta â€”"
    echo "   hardware poderoso limitado por decisiones arquitectÃ³nicas"
    echo "   heredadas. Los reportes financieros tomaban 45 minutos"
    echo "   en lugar de 5, con el CFO exigiendo soluciÃ³n inmediata.\""
    echo ""
    
    echo "3. ð‹ð€ ð…ðˆð‹ðŽð’ðŽð…Ãð€ (tu enfoque diferenciador):"
    echo "   \"En lugar de soluciones rÃ¡pidas, apliquÃ© principios de"
    echo "   diseÃ±o de sistemas: simplicidad, transparencia y"
    echo "   composiciÃ³n de herramientas especializadas. No era solo"
    echo "   tecnologÃ­a, era ingenierÃ­a consciente.\""
    echo ""
    
    echo "4. ð‹ð€ ð’ðŽð‹ð”ð‚ðˆÃ“ð (tÃ©cnica pero accesible):"
    echo "   \"Re-arquitecturicÃ© el almacenamiento usando LVM striped"
    echo "   para paralelizar I/O, XFS para performance de bases de"
    echo "   datos, y optimicÃ© montajes para acceso eficiente.\""
    echo ""
    
    echo "5. ð„ð‹ ð‘ð„ð’ð”ð‹ð“ð€ðƒðŽ (impacto medible):"
    echo "   \"Los reportes volvieron a 5 minutos, pero mÃ¡s importante:"
    echo "   restauramos confianza, establecimos mÃ©tricas observables,"
    echo "   y creamos un patrÃ³n escalable para sistemas crÃ­ticos.\""
    echo ""
    
    echo "6. ð‹ð€ ð‘ð„ð…ð‹ð„ð—ðˆÃ“ð (pensamiento senior):"
    echo "   \"El verdadero Ã©xito fue que esta no fue una soluciÃ³n"
    echo "   one-off. EstablecÃ­ un blueprint para excelencia operacional"
    echo "   continua â€” alineando infraestructura con velocidad de"
    echo "   negocio de manera sostenible.\""
    echo ""
    
    echo -e "${YELLOW}ðŸ’¡ CONSEJOS DE ENTREGA:${NC}"
    echo "â€¢ MantÃ©n contacto visual"
    echo "â€¢ Usa pausas dramÃ¡ticas despuÃ©s de puntos clave"
    echo "â€¢ Adapta el nivel tÃ©cnico al entrevistador"
    echo "â€¢ Termina con una pregunta que invite a profundizar"
    echo "â€¢ SonrÃ­e cuando hables de los resultados"
}

mostrar_frases_contrato() {
    echo -e "${CYAN}================================================================${NC}"
    echo -e "${CYAN}              ðŸ’Ž FRASES QUE CIERRAN TRATOS                      ${NC}"
    echo -e "${CYAN}================================================================${NC}"
    echo ""
    
    echo -e "${YELLOW}ðŸ¤ Para NegociaciÃ³n Salarial:${NC}"
    echo "\"Mi valor no estÃ¡ en las horas que trabajo, sino en los aÃ±os de"
    echo "experiencia condensada en decisiones correctas bajo presiÃ³n.\""
    echo ""
    
    echo "\"Esta intervenciÃ³n demuestra que no solo resuelvo problemas,"
    echo "sino que construyo capacidades estratÃ©gicas que crecen en"
    echo "valor con el tiempo.\""
    echo ""
    
    echo -e "${YELLOW}ðŸš€ Para Propuesta de Proyecto:${NC}"
    echo "\"No propongo soluciones temporales. Propongo arquitecturas"
    echo "que pagan dividendos tÃ©cnicos cada trimestre.\""
    echo ""
    
    echo "\"Mi enfoque siempre es: solucionar para hoy, pero arquitectar"
    echo "para los prÃ³ximos 5 aÃ±os de crecimiento.\""
    echo ""
    
    echo -e "${YELLOW}ðŸ“ˆ Para RevisiÃ³n de DesempeÃ±o:${NC}"
    echo "\"El ROI visible estÃ¡ en los minutos ahorrados. El ROI invisible"
    echo "estÃ¡ en la confianza recuperada, el riesgo mitigado y las"
    echo "capacidades desbloqueadas.\""
    echo ""
    
    echo "\"Transformo problemas operacionales en ventajas competitivas."
    echo "Esa transformaciÃ³n es mi contribuciÃ³n Ãºnica.\""
    echo ""
}

# FunciÃ³n principal para mostrar todo el arsenal
mostrar_arsenal_comunicacion() {
    clear
    echo -e "${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
    echo -e "${CYAN}â•‘                                                              â•‘${NC}"
    echo -e "${CYAN}â•‘   ðŸ¦¸ ARSENAL DE COMUNICACIÃ“N PROFESIONAL                     â•‘${NC}"
    echo -e "${CYAN}â•‘   (Basado en tu Ã©xito en este laboratorio)                   â•‘${NC}"
    echo -e "${CYAN}â•‘                                                              â•‘${NC}"
    echo -e "${CYAN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
    echo ""
    echo -e "${YELLOW}Selecciona quÃ© quieres ver:${NC}"
    echo "1. Frameworks estratÃ©gicos de comunicaciÃ³n"
    echo "2. Generar reporte ejecutivo (Markdown)"
    echo "3. Guion completo para entrevista"
    echo "4. Frases que cierran tratos"
    echo "5. Mostrar TODO"
    echo "6. Salir"
    echo ""
    
    read -p "OpciÃ³n [1-6]: " opcion_com
    
    case $opcion_com in
        1) mostrar_frameworks_estrategicos ;;
        2) generar_reporte_ejecutivo ;;
        3) mostrar_guion_entrevista ;;
        4) mostrar_frases_contrato ;;
        5)
            mostrar_frameworks_estrategicos
            echo ""
            read -p "Presiona ENTER para continuar..." _
            clear
            mostrar_guion_entrevista
            echo ""
            read -p "Presiona ENTER para continuar..." _
            clear
            mostrar_frases_contrato
            generar_reporte_ejecutivo
            ;;
        6) return ;;
        *) echo "OpciÃ³n invÃ¡lida" ;;
    esac
    
    echo ""
    echo -e "${GREEN}ðŸ’¡ Consejo profesional:${NC}"
    echo "Practica estos frameworks en voz alta hasta que suenen naturales."
    echo "La diferencia entre un tÃ©cnico y un consultor estÃ¡ en cÃ³mo lo cuentan."
}
